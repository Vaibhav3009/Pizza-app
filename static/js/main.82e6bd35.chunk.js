(this["webpackJsonppizza-cart"]=this["webpackJsonppizza-cart"]||[]).push([[0],{34:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c(27),a=c.n(n),i=c(9),l=c(5),r=c(2),o=c(10),d=(c(34),Object(s.createContext)(null)),j=c(0),b=function(e){var t=Object(s.useState)(!1),c=Object(i.a)(t,2),n=c[0],a=c[1],r=Object(s.useContext)(d),b=r.cart,m=r.setCart;return Object(j.jsx)(l.b,{to:"/products/".concat(e.product._id),children:Object(j.jsxs)("div",{style:{textAlign:"center",padding:"1em",backgroundColor:"darkslategray",boxShadow:"5px 10px #888888"},className:"Card",children:[Object(j.jsx)("img",{style:{borderRadius:"1.2em"},src:e.product.image,alt:"peproni"}),Object(j.jsx)("h2",{className:"name text-lg font-bold py-2",children:e.product.name}),Object(j.jsx)("span",{className:"bg-gray-200 py-1 rounded-full text-sm px-4 size",children:e.product.size}),Object(j.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[Object(j.jsxs)("span",{className:"py-1 px-1 rounded-full font-bold price mx-1",children:["\u20b9",e.product.price]}),Object(j.jsxs)("button",{disabled:n,onClick:function(t){!function(e,t){e.preventDefault();var c=Object(o.a)({},b);c.items||(c.items={}),c.items[t._id]?c.items[t._id]=c.items[t._id]+1:c.items[t._id]=1,c.totalItems||(c.totalItems=0),c.totalItems=c.totalItems+1,m(c),a(!0),setInterval((function(){a(!1)}),1e3)}(t,e.product)},className:"".concat(n?"bg-green-500":"bg-yellow-500"," py-1 px-4 rounded-full font-bold"),children:["Add","".concat(n?"ed":"")]})]})]})})},m=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(s.useEffect)((function(){fetch("https://ecom-rest-apis.herokuapp.com/api/products/").then((function(e){return e.json()})).then((function(e){n(e)}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{style:{padding:"1em",textAlign:"center",backgroundColor:"#202020",color:"white"},className:"text-lg font-bold",children:"Products"}),Object(j.jsx)("div",{style:{backgroundColor:"white"},className:"container mx-auto px-8 py-7",children:Object(j.jsx)("div",{className:"grid lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 my-8 gap-24",children:c.map((function(e){return Object(j.jsx)(b,{product:e},e._id)}))})})]})},x=c.p+"static/media/pizza.80b3d1db.png",u=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{style:{padding:"1em"},className:"hero py-16",children:Object(j.jsxs)("div",{className:"container mx-auto flex items center justify-between",children:[Object(j.jsxs)("div",{style:{textAlign:"center"},className:"w-1/2 mx-auto my-auto",children:[Object(j.jsx)("h6",{className:"text-lg",children:"Feeling Hungry?"}),Object(j.jsx)("h1",{className:"text-3xl md:text-6xl font-bold",children:"Don't Wait!"}),Object(j.jsx)(l.b,{to:"/cart",children:Object(j.jsx)("button",{className:"px-6 py-2 rounded-full text-white font-bold mt-4 bg-yellow-500",children:"Order Now"})})]}),Object(j.jsx)("div",{className:"w-1/2 mx-auto my-auto",children:Object(j.jsx)("img",{src:x,alt:"pizza"})})]})}),Object(j.jsx)("div",{children:Object(j.jsx)(m,{})})]})},O=c(11),p=c.p+"static/media/pizzaLogo.78ca6d9a.jpeg",h=function(){var e,t=Object(s.useContext)(d).cart;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("nav",{style:(e={padding:"1em",backgroundColor:"black",width:"100%"},Object(O.a)(e,"padding","0.3em"),Object(O.a)(e,"color","white"),Object(O.a)(e,"fontWeight","bolder"),Object(O.a)(e,"maxWidth","100%"),e),className:"container mx-auto flex items-center justify-between py-4 ",children:[Object(j.jsx)(l.b,{to:"/",children:Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("img",{style:{height:"50px"},src:p,alt:"logo"}),Object(j.jsx)("span",{children:"Pizza"})]})}),Object(j.jsxs)("ul",{className:"flex items-center ",children:[Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/",children:"Home"})}),Object(j.jsx)("li",{className:"ml-6",children:Object(j.jsx)(l.b,{to:"/products",children:"Products"})}),Object(j.jsx)("li",{className:"ml-6",children:Object(j.jsx)(l.b,{to:"/cart",children:Object(j.jsxs)("div",{style:{background:"#F59E0D",display:"flex",padding:"6px 12px",borderRadius:"25px"},children:[Object(j.jsx)("span",{children:t.totalItems?t.totalItems:0}),Object(j.jsx)("img",{className:"ml-2",src:"../images/cart.png",alt:"cart"})]})})})]})]})})},f=c.p+"static/media/empty-cart.621445dd.png",g=function(){var e=Object(s.useContext)(d),t=e.cart,c=e.setCart,n=Object(s.useState)([]),a=Object(i.a)(n,2),l=a[0],r=a[1],b=0,m=Object(s.useState)(!1),x=Object(i.a)(m,2),u=x[0],O=x[1],p=function(e,c){return b+=t.items[e]*c,t.items[e]*c};return Object(s.useEffect)((function(){t.items&&(u||fetch("https://ecom-rest-apis.herokuapp.com/api/products/cart-items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:Object.keys(t.items)})}).then((function(e){return e.json()})).then((function(e){r(e),O(!0)})))}),[t]),l.length?Object(j.jsxs)("div",{className:"container mx-auto lg:w-1/2 w-full pb-24",children:[Object(j.jsx)("h1",{className:"my-12 font-bold",children:"Your Cart"}),Object(j.jsx)("ul",{children:l.map((function(e){return Object(j.jsx)("li",{className:"mb-12",children:Object(j.jsxs)("div",{className:"flex items-center justify-between",children:[Object(j.jsxs)("div",{className:"flex items-center",children:[Object(j.jsx)("img",{className:"h-16",src:e.image}),Object(j.jsx)("span",{className:"font-bold ml-4 w-48",children:e.name})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){!function(e){var s=t.items[e];if(1!==s){var n=Object(o.a)({},t);n.items[e]=s-1,n.totalItems-=1,c(n)}}(e._id)},className:"bg-yellow-500 px-4 py-2 rounded-full leading-none",children:"-"}),Object(j.jsx)("b",{className:"px-4",children:(s=e._id,t.items[s])}),Object(j.jsx)("button",{onClick:function(){!function(e){var s=t.items[e],n=Object(o.a)({},t);n.items[e]=s+1,n.totalItems+=1,c(n)}(e._id)},className:"bg-yellow-500 px-4 py-2 rounded-full leading-none",children:"+"})]}),Object(j.jsxs)("span",{children:["\u20b9",p(e._id,e.price)]}),Object(j.jsx)("button",{onClick:function(){!function(e){var s=Object(o.a)({},t),n=s.items[e];delete s.items[e],s.totalItems-=n,c(s),r(l.filter((function(t){return t._id!==e})))}(e._id)},className:"bg-red-500 px-4 py-2 rounded-full leading-none text-white",children:"Delete"})]})},e._id);var s}))}),Object(j.jsx)("hr",{className:"my-6"}),Object(j.jsxs)("div",{className:"text-right",children:[Object(j.jsx)("b",{children:"Grand Total"})," : \u20b9 ",b]}),Object(j.jsx)("div",{className:"text-right mt-6",children:Object(j.jsx)("button",{onClick:function(){return window.alert("ORDER PLACED SUCCESSFULLY"),r([]),void c({})},className:"bg-yellow-500 px-4 py-2 rounded-full leading-none",children:"Order Now"})})]}):Object(j.jsx)("img",{className:"mx-auto w-1/2 mt-12",src:f})},y=c(29),N=c.n(y),v=function(){var e=Object(s.useState)({}),t=Object(i.a)(e,2),c=t[0],n=t[1],a=Object(r.g)(),l=Object(s.useContext)(d),b=l.cart,m=l.setCart,x=Object(r.f)();console.log(a),Object(s.useEffect)((function(){N.a.get("https://ecom-rest-apis.herokuapp.com/api/products/".concat(a._id)).then((function(e){var t=e.data;n(t)}))}),[]);return Object(j.jsx)("div",{style:{textAlign:"center"},className:"container mx-auto my-12",children:Object(j.jsxs)("div",{style:{textAlign:"center"},children:[Object(j.jsx)("button",{style:{backgroundColor:"blue",color:"white",borderRadius:"10px"},className:"px-4 py-2 mb-12 mx-4 font-bold",onClick:function(){x.goBack()},children:"Back"}),Object(j.jsxs)("div",{style:{textAlign:"center",alignItems:"center",justifyContent:"center",padding:"1em",maxWidth:"37%",margin:"auto",backgroundColor:"#505050",borderRadius:"2rem"},className:"flex flex-col md:flex-row",children:[Object(j.jsx)("img",{style:{borderRadius:"2rem"},src:c.image}),Object(j.jsxs)("div",{style:{color:"white"},className:"mx-4",children:[Object(j.jsx)("h1",{className:"text-xl font-bold",children:c.name}),Object(j.jsx)("div",{className:"text-md",children:c.size}),Object(j.jsxs)("div",{className:"font-bold mt-2",children:["\u20b9",c.price]}),Object(j.jsx)("button",{onClick:function(){!function(e){var t=Object(o.a)({},b);t.items||(t.items={}),t.items[e]?t.items[e]=t.items[e]+1:t.items[e]=1,t.totalItems||(t.totalItems=0),t.totalItems=t.totalItems+1,m(t)}(c._id)},className:"bg-yellow-500 py-1 px-8 rounded-full font-bold mt-4",children:"Add to Cart"})]})]})]})})},w=function(){return Object(j.jsx)("div",{style:{backgroundColor:"black",padding:"2rem"},children:Object(j.jsx)("h1",{children:"FOOTER"})})};var C=function(){var e=Object(s.useState)({}),t=Object(i.a)(e,2),c=t[0],n=t[1];return Object(s.useEffect)((function(){var e=window.localStorage.getItem("cart");n(JSON.parse(e))}),[]),Object(s.useEffect)((function(){window.localStorage.setItem("cart",JSON.stringify(c))}),[c]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l.a,{children:Object(j.jsxs)(d.Provider,{value:{cart:c,setCart:n},children:[Object(j.jsx)(h,{}),Object(j.jsxs)(r.c,{children:[Object(j.jsx)(r.a,{path:"/",exact:!0,component:u}),Object(j.jsx)(r.a,{path:"/pizza-app",exact:!0,component:u}),Object(j.jsx)(r.a,{path:"/products",exact:!0,component:m}),Object(j.jsx)(r.a,{path:"/products/:_id",component:v}),Object(j.jsx)(r.a,{path:"/cart",component:g})]})]})}),Object(j.jsx)(w,{})]})};c(59);a.a.render(Object(j.jsx)(C,{}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.82e6bd35.chunk.js.map